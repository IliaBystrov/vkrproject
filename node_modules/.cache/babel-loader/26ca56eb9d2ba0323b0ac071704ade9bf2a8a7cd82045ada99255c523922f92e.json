{"ast":null,"code":"import _objectSpread from\"C:/Users/iliab/Desktop/vkrproject/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/iliab/Desktop/vkrproject/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/iliab/Desktop/vkrproject/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _this=this;import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var One_Answer=function One_Answer(props){var type=\"one\";var _useState=useState([{id:0,value:''},{id:1,value:''}]),_useState2=_slicedToArray(_useState,2),answers=_useState2[0],setValue=_useState2[1];var additem=function additem(){var i=answers.length;i+=1;var newanswer={id:i,answer:''};setValue(function(prevState){return[].concat(_toConsumableArray(prevState),[newanswer]);});};var deleteitem=function deleteitem(id){var i=answers.length;if(i>2){setValue(function(prevState){var idx=prevState.findIndex(function(answer){return answer.id===id;});return[].concat(_toConsumableArray(prevState.slice(0,idx)),_toConsumableArray(prevState.slice(idx+1)));});}else{alert('Количество вариантов может быть не меньше 2!');};};var setAnsValue=function setAnsValue(id,text){setValue(function(prevState){var idx=prevState.findIndex(function(answer){return answer.id===id;});var oldanswer=prevState[idx];var newanswer=_objectSpread(_objectSpread({},oldanswer),{},{value:text});return[].concat(_toConsumableArray(prevState.slice(0,idx)),[newanswer],_toConsumableArray(prevState.slice(idx+1)));});};return/*#__PURE__*/_jsxs(\"div\",{className:\"task_short_text\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u0430\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"short_text\",name:'question_area_'+_this.props.uid,onBlur:function onBlur(){return props.returnValue(props.uid,type);}}),answers.map(function(answer){return/*#__PURE__*/_jsxs(\"div\",{id:\"answer_list\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Вариант ответа\",id:\"answer_text\",name:'answer_area_'+_this.props.uid,onBlur:function onBlur(){return props.returnValue(props.uid,type);}},answer.id),/*#__PURE__*/_jsx(\"button\",{id:\"answer_delete\",onClick:function onClick(){return deleteitem(answer.id);},children:/*#__PURE__*/_jsx(\"img\",{src:require('../images/close.png')})})]});}),/*#__PURE__*/_jsx(\"button\",{id:\"add_answer\",onClick:additem,children:/*#__PURE__*/_jsx(\"img\",{src:require('../images/plus.png')})})]});};","map":{"version":3,"names":["React","useState","One_Answer","props","type","id","value","answers","setValue","additem","i","length","newanswer","answer","prevState","deleteitem","idx","findIndex","slice","alert","setAnsValue","text","oldanswer","uid","returnValue","map","require"],"sources":["C:/Users/iliab/Desktop/vkrproject/src/components/one_answer.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nexport const One_Answer = (props) => {\r\n        const type = \"one\";\r\n        const [answers, setValue] = useState([{\r\n            id: 0,\r\n            value: ''\r\n        },\r\n        {\r\n            id: 1,\r\n            value: ''\r\n        }\r\n        ]);\r\n    \r\n        const additem = () => {\r\n            var i = answers.length;\r\n            i += 1;\r\n            var newanswer = {\r\n                id: i,\r\n                answer: ''\r\n            };\r\n            setValue((prevState) => [...prevState, newanswer]);\r\n        };\r\n        const deleteitem = (id) =>{\r\n            var i = answers.length;\r\n            if(i > 2){\r\n                setValue((prevState) => {\r\n                    const idx = prevState.findIndex((answer) => answer.id === id);\r\n                    return[...prevState.slice(0,idx), ...prevState.slice(idx+1)];\r\n                });\r\n            } \r\n            else{ \r\n                alert('Количество вариантов может быть не меньше 2!');\r\n            };\r\n        };\r\n        const setAnsValue = (id, text) =>{\r\n            setValue((prevState) => {\r\n            const idx = prevState.findIndex((answer) => answer.id === id);\r\n            const oldanswer = prevState[idx];\r\n            const newanswer = {...oldanswer, value: text};\r\n            return[...prevState.slice(0,idx), newanswer,...prevState.slice(idx+1)];\r\n            });\r\n        };\r\n\r\n    return(\r\n        <div className = \"task_short_text\">\r\n            <h1>Текст вопроса</h1>\r\n            <textarea id=\"short_text\" name={'question_area_' + this.props.uid} \r\n            onBlur={() => props.returnValue(props.uid, type)}></textarea>\r\n            {\r\n                answers.map((answer) => {\r\n                    return(\r\n                        <div id='answer_list'>\r\n                            <input type = \"text\" placeholder = {\"Вариант ответа\"} \r\n                            id='answer_text' \r\n                            key={answer.id}\r\n                            name={'answer_area_' + this.props.uid}\r\n                            onBlur={() => props.returnValue(props.uid, type)}>\r\n                            </input>\r\n                            <button id='answer_delete' onClick={() => deleteitem(answer.id)}>\r\n                                <img src={require('../images/close.png')}></img>\r\n                            </button>\r\n                        </div>\r\n                     );\r\n                })\r\n            }\r\n            <button id='add_answer' onClick={additem}>\r\n                <img src={require('../images/plus.png')}></img>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}