{"ast":null,"code":"import _toConsumableArray from\"C:/Users/iliab/Desktop/vkrproject/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/iliab/Desktop/vkrproject/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import QPool from'./qpoll';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var App=function App(){var _useState=useState([{id:0,question_type:'',question_text:'',answer:[]}]),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setValue=_useState2[1];var additem=function additem(){var i=items.length;i+=1;var newitem={id:i,question_type:'',question_text:'',answer:[]};setValue(function(prevState){return[].concat(_toConsumableArray(prevState),[newitem]);});//Вывод для проверки\nconsole.log(i);};var deleteitem=function deleteitem(id){var i=items.length;if(i>1){setValue(function(prevState){var idx=prevState.findIndex(function(item){return item.id===id;});return[].concat(_toConsumableArray(prevState.slice(0,idx)),_toConsumableArray(prevState.slice(idx+1)));});//Для проверки\ni--;}else{alert('Нельзя удалить единственный вопрос!');};//Для проверки\nconsole.log(i);};return/*#__PURE__*/_jsxs(\"div\",{className:\"mainp\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"shablon_title\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F \\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u0438\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"logoselect\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"OKB\",children:\"OKB\"}),/*#__PURE__*/_jsx(\"option\",{value:\"QWE\",children:\"QWE\"})]}),items.map(function(item){return/*#__PURE__*/_jsx(QPool,{id:item.id,qtype:item.question_type,qtext:item.question_text,ans:item.answer,image_delete:require('../images/close.png'),onDeleted:deleteitem},item.id);}),/*#__PURE__*/_jsxs(\"button\",{id:\"addtask\",onClick:additem,children:[/*#__PURE__*/_jsx(\"img\",{src:require('../images/plus.png'),alt:\"add\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\"})]}),/*#__PURE__*/_jsx(\"button\",{id:\"addtask\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})})]});};","map":{"version":3,"names":["React","useState","QPool","App","id","question_type","question_text","answer","items","setValue","additem","i","length","newitem","prevState","console","log","deleteitem","idx","findIndex","item","slice","alert","map","require"],"sources":["C:/Users/iliab/Desktop/vkrproject/src/components/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport QPool from './qpoll';\r\n\r\n\r\nexport const App = () => {\r\n\r\n    const [items, setValue] = useState([{\r\n        id: 0,\r\n        question_type: '',\r\n        question_text: '',\r\n        answer: []        \r\n    }]);\r\n\r\n    const additem = () => {\r\n        var i = items.length;\r\n        i += 1;\r\n        var newitem = {\r\n            id: i,\r\n            question_type: '',\r\n            question_text: '',\r\n            answer: []\r\n        };\r\n        setValue((prevState) => [...prevState, newitem]);\r\n        //Вывод для проверки\r\n        console.log(i);\r\n    };\r\n    const deleteitem = (id) =>{\r\n        var i = items.length;\r\n        if(i > 1){\r\n            setValue((prevState) => {\r\n                const idx = prevState.findIndex((item) => item.id === id);\r\n                return[...prevState.slice(0,idx), ...prevState.slice(idx+1)];\r\n            });\r\n            //Для проверки\r\n            i--;\r\n        } \r\n        else{ \r\n            alert('Нельзя удалить единственный вопрос!');\r\n        };\r\n        //Для проверки\r\n        console.log(i);\r\n    };\r\n\r\n    return(\r\n        <div className = \"mainp\">\r\n            <h1>Название</h1>\r\n            <input type = \"text\" id = \"shablon_title\"></input>\r\n            <h1>Выберите логотип компании</h1>\r\n            <select id =\"logoselect\">\r\n                <option value=\"OKB\">OKB</option>\r\n                <option value=\"QWE\">QWE</option>\r\n            </select>\r\n\r\n                {\r\n                    items.map((item) => {\r\n                        return(\r\n                            <QPool \r\n                            key={item.id} \r\n                            id={item.id} \r\n                            qtype={item.question_type} \r\n                            qtext={item.question_text}\r\n                            ans={item.answer}\r\n                            image_delete={require('../images/close.png')}\r\n                            onDeleted={deleteitem}>\r\n                            </QPool>\r\n                        );\r\n                    })\r\n                }\r\n            \r\n            <button id=\"addtask\" onClick={additem}>\r\n                <img src={require('../images/plus.png')} alt='add'></img>\r\n                <h1>Добавить вопрос</h1>\r\n            </button>\r\n            <button id=\"addtask\">\r\n                <h1>Сохранить</h1>\r\n            </button>\r\n        </div>\r\n    );\r\n\r\n};"],"mappings":"sPAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,MAAK,KAAM,SAAS,CAAC,wFAG5B,MAAO,IAAMC,IAAG,CAAG,QAANA,IAAG,EAAS,CAErB,cAA0BF,QAAQ,CAAC,CAAC,CAChCG,EAAE,CAAE,CAAC,CACLC,aAAa,CAAE,EAAE,CACjBC,aAAa,CAAE,EAAE,CACjBC,MAAM,CAAE,EACZ,CAAC,CAAC,CAAC,wCALIC,KAAK,eAAEC,QAAQ,eAOtB,GAAMC,QAAO,CAAG,QAAVA,QAAO,EAAS,CAClB,GAAIC,EAAC,CAAGH,KAAK,CAACI,MAAM,CACpBD,CAAC,EAAI,CAAC,CACN,GAAIE,QAAO,CAAG,CACVT,EAAE,CAAEO,CAAC,CACLN,aAAa,CAAE,EAAE,CACjBC,aAAa,CAAE,EAAE,CACjBC,MAAM,CAAE,EACZ,CAAC,CACDE,QAAQ,CAAC,SAACK,SAAS,qCAASA,SAAS,GAAED,OAAO,IAAC,CAAC,CAChD;AACAE,OAAO,CAACC,GAAG,CAACL,CAAC,CAAC,CAClB,CAAC,CACD,GAAMM,WAAU,CAAG,QAAbA,WAAU,CAAIb,EAAE,CAAI,CACtB,GAAIO,EAAC,CAAGH,KAAK,CAACI,MAAM,CACpB,GAAGD,CAAC,CAAG,CAAC,CAAC,CACLF,QAAQ,CAAC,SAACK,SAAS,CAAK,CACpB,GAAMI,IAAG,CAAGJ,SAAS,CAACK,SAAS,CAAC,SAACC,IAAI,QAAKA,KAAI,CAAChB,EAAE,GAAKA,EAAE,GAAC,CACzD,mCAAUU,SAAS,CAACO,KAAK,CAAC,CAAC,CAACH,GAAG,CAAC,qBAAKJ,SAAS,CAACO,KAAK,CAACH,GAAG,CAAC,CAAC,CAAC,GAC/D,CAAC,CAAC,CACF;AACAP,CAAC,EAAE,CACP,CAAC,IACG,CACAW,KAAK,CAAC,qCAAqC,CAAC,CAChD,CAAC,CACD;AACAP,OAAO,CAACC,GAAG,CAACL,CAAC,CAAC,CAClB,CAAC,CAED,mBACI,aAAK,SAAS,CAAG,OAAO,wBACpB,oBAAI,kDAAQ,EAAK,cACjB,cAAO,IAAI,CAAG,MAAM,CAAC,EAAE,CAAG,eAAe,EAAS,cAClD,oBAAI,8IAAyB,EAAK,cAClC,gBAAQ,EAAE,CAAE,YAAY,wBACpB,eAAQ,KAAK,CAAC,KAAK,UAAC,KAAG,EAAS,cAChC,eAAQ,KAAK,CAAC,KAAK,UAAC,KAAG,EAAS,GAC3B,CAGDH,KAAK,CAACe,GAAG,CAAC,SAACH,IAAI,CAAK,CAChB,mBACI,KAAC,KAAK,EAEN,EAAE,CAAEA,IAAI,CAAChB,EAAG,CACZ,KAAK,CAAEgB,IAAI,CAACf,aAAc,CAC1B,KAAK,CAAEe,IAAI,CAACd,aAAc,CAC1B,GAAG,CAAEc,IAAI,CAACb,MAAO,CACjB,YAAY,CAAEiB,OAAO,CAAC,qBAAqB,CAAE,CAC7C,SAAS,CAAEP,UAAW,EANjBG,IAAI,CAAChB,EAAE,CAOJ,CAEhB,CAAC,CAAC,cAGV,gBAAQ,EAAE,CAAC,SAAS,CAAC,OAAO,CAAEM,OAAQ,wBAClC,YAAK,GAAG,CAAEc,OAAO,CAAC,oBAAoB,CAAE,CAAC,GAAG,CAAC,KAAK,EAAO,cACzD,oBAAI,uFAAe,EAAK,GACnB,cACT,eAAQ,EAAE,CAAC,SAAS,uBAChB,oBAAI,wDAAS,EAAK,EACb,GACP,CAGd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}