{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\iliab\\\\Desktop\\\\vkrproject\\\\src\\\\components\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport QPool from './qpoll';\nimport { MainButtoms } from './mainbuttons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const App = () => {\n  _s();\n  //let i =0;\n  const [items, setValue] = useState([{\n    id: 0,\n    question_type: '',\n    question_text: '',\n    answer: []\n  }]);\n\n  //Добавляем вопрос\n  const additem = () => {\n    let i = 0;\n    for (var j = 0; j < items.length; j++) {\n      if (items[j].id > i) {\n        i = items[j].id;\n      }\n    }\n    i++;\n    var newitem = {\n      id: i,\n      question_type: '',\n      question_text: '',\n      answer: []\n    };\n    setValue(prevState => [...prevState, newitem]);\n    //Вывод для проверки\n    console.log(i);\n  };\n  //Удаляем вопрос\n  const deleteitem = id => {\n    var count = items.length;\n    if (count > 1) {\n      setValue(prevState => {\n        const idx = prevState.findIndex(item => item.id === id);\n        return [...prevState.slice(0, idx), ...prevState.slice(idx + 1)];\n      });\n      //Для проверки\n      count--;\n    } else {\n      alert('Нельзя удалить единственный вопрос!');\n    }\n    ;\n    //Для проверки\n    //console.log(count);\n  };\n  //Получаем текст и варианты ответов на вопросы\n  const SetQuestion = (id, type) => {\n    var qtype = type;\n    var qtext = '';\n    var qans = [];\n    var a, j;\n    var inputs = document.getElementsByName('question_area_' + id);\n    for (j = 0; j < inputs.length; j++) {\n      a = inputs[j];\n      qtext = a.value;\n    }\n    if (qtype !== 'short' || qtype !== 'long') {\n      inputs = document.getElementsByName('answer_area_' + id);\n      for (j = 0; j < inputs.length; j++) {\n        a = inputs[j];\n        qans.push(a.value);\n      }\n    }\n    var copy = Object.assign([], items);\n    var idx = copy.findIndex(item => item.id === id);\n    var newitem = {\n      id: id,\n      question_type: qtype,\n      question_text: qtext,\n      answer: qans\n    };\n    copy[idx] = newitem;\n    setValue(copy);\n\n    /*console.log(qtype);\r\n    console.log(qtext);\r\n    console.log(qans);*/\n  };\n\n  const SaveShablon = () => {\n    let head = {};\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"main_block_c\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"block1\",\n      children: /*#__PURE__*/_jsxDEV(MainButtoms, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"block2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mainp\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"shablon_title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F \\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"logoselect\",\n          name: \"logoselect\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"OKB\",\n            children: \"OKB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"QWE\",\n            children: \"QWE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u0422\\u0438\\u043F \\u043E\\u043F\\u0440\\u043E\\u0441\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"logoselect\",\n          name: \"shablontype\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"public\",\n            children: \"\\u041F\\u0443\\u0431\\u043B\\u0438\\u0447\\u043D\\u044B\\u0439\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"anon\",\n            children: \"\\u0410\\u043D\\u043E\\u043D\\u0438\\u043C\\u043D\\u044B\\u0439\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), items.map(item => {\n          return /*#__PURE__*/_jsxDEV(QPool, {\n            id: item.id,\n            image_delete: require('../images/close.png'),\n            onDeleted: deleteitem,\n            setInfo: SetQuestion\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 37\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"addtask\",\n          onClick: additem,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: require('../images/plus.png'),\n            alt: \"add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"addtask\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"6LonICQZDyeEX/2sU1Oc/G6440w=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","QPool","MainButtoms","App","items","setValue","id","question_type","question_text","answer","additem","i","j","length","newitem","prevState","console","log","deleteitem","count","idx","findIndex","item","slice","alert","SetQuestion","type","qtype","qtext","qans","a","inputs","document","getElementsByName","value","push","copy","Object","assign","SaveShablon","head","map","require"],"sources":["C:/Users/iliab/Desktop/vkrproject/src/components/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport QPool from './qpoll';\r\nimport {MainButtoms} from './mainbuttons';\r\n\r\n\r\nexport const App = () => {\r\n\r\n    //let i =0;\r\n    const [items, setValue] = useState([{\r\n        id: 0,\r\n        question_type: '',\r\n        question_text: '',\r\n        answer: []        \r\n    }]);\r\n\r\n    //Добавляем вопрос\r\n    const additem = () => {\r\n        let i = 0;\r\n        for(var j=0;j<items.length;j++){\r\n            if(items[j].id>i){\r\n                i=items[j].id;\r\n            }\r\n        }\r\n        i++;\r\n        var newitem = {\r\n            id: i,\r\n            question_type: '',\r\n            question_text: '',\r\n            answer: []\r\n        };\r\n        setValue((prevState) => [...prevState, newitem]);\r\n        //Вывод для проверки\r\n        console.log(i);\r\n    };\r\n    //Удаляем вопрос\r\n    const deleteitem = (id) =>{\r\n        var count = items.length;\r\n        if(count > 1){\r\n            setValue((prevState) => {\r\n                const idx = prevState.findIndex((item) => item.id === id);\r\n                return[...prevState.slice(0,idx), ...prevState.slice(idx+1)];\r\n            });\r\n            //Для проверки\r\n            count--;\r\n        } \r\n        else{ \r\n            alert('Нельзя удалить единственный вопрос!');\r\n        };\r\n        //Для проверки\r\n        //console.log(count);\r\n    };\r\n    //Получаем текст и варианты ответов на вопросы\r\n    const SetQuestion = (id, type) =>{\r\n        var qtype = type;\r\n        var qtext ='';\r\n        var qans =[];\r\n        var a, j;\r\n        var inputs = document.getElementsByName('question_area_' + id);\r\n        for (j = 0; j < inputs.length; j++) {\r\n            a = inputs[j];\r\n            qtext = a.value;\r\n        }\r\n        if((qtype !== 'short') || (qtype !== 'long')){\r\n            inputs = document.getElementsByName('answer_area_' + id);\r\n            for (j = 0; j < inputs.length; j++) {\r\n                a = inputs[j];\r\n                qans.push(a.value);\r\n            }\r\n        }\r\n        var copy = Object.assign([], items);\r\n        var idx = copy.findIndex((item) => item.id === id);\r\n        var newitem={\r\n            id: id,\r\n            question_type: qtype,\r\n            question_text: qtext,\r\n            answer: qans\r\n        };\r\n        copy[idx]=newitem;\r\n        setValue(copy);\r\n\r\n        /*console.log(qtype);\r\n        console.log(qtext);\r\n        console.log(qans);*/\r\n    };\r\n\r\n    const SaveShablon = () => {\r\n        let head = {\r\n\r\n        }\r\n    };\r\n\r\n    \r\n\r\n\r\n    return(\r\n        <div id = \"main_block_c\">\r\n            <div id=\"block1\">\r\n                <MainButtoms></MainButtoms>\r\n            </div>\r\n            <div id=\"block2\">\r\n                <div className = \"mainp\">\r\n                    <h1>Название</h1>\r\n                    <input type = \"text\" id = \"shablon_title\"></input>\r\n                    <h1>Выберите логотип компании</h1>\r\n                    <select id =\"logoselect\" name='logoselect'>\r\n                        <option value=\"OKB\">OKB</option>\r\n                        <option value=\"QWE\">QWE</option>\r\n                    </select>\r\n                    <h1>Тип опроса</h1>\r\n                    <select id =\"logoselect\" name='shablontype'>\r\n                        <option value=\"public\">Публичный</option>\r\n                        <option value=\"anon\">Анонимный</option>\r\n                    </select>\r\n                        {\r\n                            items.map((item) => {\r\n                                return(\r\n                                    <QPool \r\n                                    id={item.id} \r\n                                    key={item.id}\r\n                                    image_delete={require('../images/close.png')}\r\n                                    onDeleted={deleteitem}\r\n                                    setInfo={SetQuestion}>\r\n                                    </QPool>\r\n                                );\r\n                            })\r\n                        }\r\n                    \r\n                    <button id=\"addtask\" onClick={additem}>\r\n                        <img src={require('../images/plus.png')} alt='add'></img>\r\n                        <h1>Добавить вопрос</h1>\r\n                    </button>\r\n                    <button id=\"addtask\">\r\n                        <h1>Сохранить</h1>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}