{"ast":null,"code":"import _toConsumableArray from\"C:/Users/iliab/Desktop/vkrproject/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/iliab/Desktop/vkrproject/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var One_Answer=function One_Answer(props){var type=\"one\";var _useState=useState([{id:1,value:''},{id:2,value:''}]),_useState2=_slicedToArray(_useState,2),answers=_useState2[0],setValue=_useState2[1];var additem=function additem(){var i=0;for(var j=0;j<answers.length;j++){if(answers[j].id>i){i=answers[j].id;}}i++;var newanswer={id:i,answer:''};setValue(function(prevState){return[].concat(_toConsumableArray(prevState),[newanswer]);});};var deleteitem=function deleteitem(id){var i=answers.length;if(i>2){setValue(function(prevState){var idx=prevState.findIndex(function(answer){return answer.id===id;});return[].concat(_toConsumableArray(prevState.slice(0,idx)),_toConsumableArray(prevState.slice(idx+1)));});}else{alert('Количество вариантов может быть не меньше 2!');};};/*const setAnsValue = (id, text) =>{\r\n            setValue((prevState) => {\r\n            const idx = prevState.findIndex((answer) => answer.id === id);\r\n            const oldanswer = prevState[idx];\r\n            const newanswer = {...oldanswer, value: text};\r\n            return[...prevState.slice(0,idx), newanswer,...prevState.slice(idx+1)];\r\n            });\r\n        };*/return/*#__PURE__*/_jsxs(\"div\",{className:\"task_short_text\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u0430\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"short_text\",name:'question_area_'+props.uid,onBlur:function onBlur(){return props.returnValue(props.uid,type);}}),answers.map(function(answer){return/*#__PURE__*/_jsxs(\"div\",{id:\"answer_list\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Вариант ответа\",id:\"answer_text\",name:'answer_area_'+props.uid,onBlur:function onBlur(){return props.returnValue(props.uid,type);}},answer.id),/*#__PURE__*/_jsx(\"button\",{id:\"answer_delete\",onClick:function onClick(){return deleteitem(answer.id);},children:/*#__PURE__*/_jsx(\"img\",{src:require('../images/close.png'),alt:\"close\"})})]});}),/*#__PURE__*/_jsx(\"button\",{id:\"add_answer\",onClick:additem,children:/*#__PURE__*/_jsx(\"img\",{src:require('../images/plus.png'),alt:\"plus\"})})]});};","map":{"version":3,"names":["React","useState","One_Answer","props","type","id","value","answers","setValue","additem","i","j","length","newanswer","answer","prevState","deleteitem","idx","findIndex","slice","alert","uid","returnValue","map","require"],"sources":["C:/Users/iliab/Desktop/vkrproject/src/components/one_answer.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nexport const One_Answer = (props) => {\r\n        const type = \"one\";\r\n        const [answers, setValue] = useState([{\r\n            id: 1,\r\n            value: ''\r\n        },\r\n        {\r\n            id: 2,\r\n            value: ''\r\n        }\r\n        ]);\r\n    \r\n        const additem = () => {\r\n            let i = 0;\r\n            for(var j=0;j<answers.length;j++){\r\n                if(answers[j].id>i){\r\n                    i=answers[j].id;\r\n                }\r\n            }\r\n            i++;\r\n            var newanswer = {\r\n                id: i,\r\n                answer: ''\r\n            };\r\n            setValue((prevState) => [...prevState, newanswer]);\r\n        };\r\n        const deleteitem = (id) =>{\r\n            var i = answers.length;\r\n            if(i > 2){\r\n                setValue((prevState) => {\r\n                    const idx = prevState.findIndex((answer) => answer.id === id);\r\n                    return[...prevState.slice(0,idx), ...prevState.slice(idx+1)];\r\n                });\r\n            } \r\n            else{ \r\n                alert('Количество вариантов может быть не меньше 2!');\r\n            };\r\n        };\r\n        /*const setAnsValue = (id, text) =>{\r\n            setValue((prevState) => {\r\n            const idx = prevState.findIndex((answer) => answer.id === id);\r\n            const oldanswer = prevState[idx];\r\n            const newanswer = {...oldanswer, value: text};\r\n            return[...prevState.slice(0,idx), newanswer,...prevState.slice(idx+1)];\r\n            });\r\n        };*/\r\n\r\n    return(\r\n        <div className = \"task_short_text\">\r\n            <h1>Текст вопроса</h1>\r\n            <textarea id=\"short_text\" name={'question_area_' + props.uid} \r\n            onBlur={() => props.returnValue(props.uid, type)}></textarea>\r\n            {\r\n                answers.map((answer) => {\r\n                    return(\r\n                        <div id='answer_list'>\r\n                            <input type = \"text\" placeholder = {\"Вариант ответа\"} \r\n                            id='answer_text' \r\n                            key={answer.id}\r\n                            name={'answer_area_' + props.uid}\r\n                            onBlur={() => props.returnValue(props.uid, type)}>\r\n                            </input>\r\n                            <button id='answer_delete' onClick={() => deleteitem(answer.id)}>\r\n                                <img src={require('../images/close.png')} alt='close'></img>\r\n                            </button>\r\n                        </div>\r\n                     );\r\n                })\r\n            }\r\n            <button id='add_answer' onClick={additem}>\r\n                <img src={require('../images/plus.png')} alt='plus'></img>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}