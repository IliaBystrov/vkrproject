{"ast":null,"code":"import _toConsumableArray from\"C:/Users/iliab/Desktop/vkrproject/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/iliab/Desktop/vkrproject/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import QPool from'./qpoll';import{MainButtoms}from'./components/mainbuttons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var App=function App(){//let i =0;\nvar _useState=useState([{id:0,question_type:'',question_text:'',answer:[]}]),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setValue=_useState2[1];//Добавляем вопрос\nvar additem=function additem(){var i=0;for(var j=0;j<items.length;j++){if(items[j].id>i){i=items[j].id;}}i++;var newitem={id:i,question_type:'',question_text:'',answer:[]};setValue(function(prevState){return[].concat(_toConsumableArray(prevState),[newitem]);});//Вывод для проверки\nconsole.log(i);};//Удаляем вопрос\nvar deleteitem=function deleteitem(id){var count=items.length;if(count>1){setValue(function(prevState){var idx=prevState.findIndex(function(item){return item.id===id;});return[].concat(_toConsumableArray(prevState.slice(0,idx)),_toConsumableArray(prevState.slice(idx+1)));});//Для проверки\ncount--;}else{alert('Нельзя удалить единственный вопрос!');};//Для проверки\n//console.log(count);\n};//Получаем текст и варианты ответов на вопросы\nvar SetQuestion=function SetQuestion(id,type){var qtype=type;var qtext='';var qans=[];var a,j;var inputs=document.getElementsByName('question_area_'+id);for(j=0;j<inputs.length;j++){a=inputs[j];qtext=a.value;}if(qtype!=='short'||qtype!=='long'){inputs=document.getElementsByName('answer_area_'+id);for(j=0;j<inputs.length;j++){a=inputs[j];qans.push(a.value);}}var copy=Object.assign([],items);var idx=copy.findIndex(function(item){return item.id===id;});var newitem={id:id,question_type:qtype,question_text:qtext,answer:qans};copy[idx]=newitem;setValue(copy);/*console.log(qtype);\r\n        console.log(qtext);\r\n        console.log(qans);*/};var SaveShablon=function SaveShablon(){var head={};};return/*#__PURE__*/_jsxs(\"div\",{id:\"main_block_c\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"block1\",children:/*#__PURE__*/_jsx(MainButtoms,{})}),/*#__PURE__*/_jsx(\"div\",{id:\"block2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mainp\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"shablon_title\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F \\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u0438\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"logoselect\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"OKB\",children:\"OKB\"}),/*#__PURE__*/_jsx(\"option\",{value:\"QWE\",children:\"QWE\"})]}),items.map(function(item){return/*#__PURE__*/_jsx(QPool,{id:item.id,image_delete:require('../images/close.png'),onDeleted:deleteitem,setInfo:SetQuestion},item.id);}),/*#__PURE__*/_jsxs(\"button\",{id:\"addtask\",onClick:additem,children:[/*#__PURE__*/_jsx(\"img\",{src:require('../images/plus.png'),alt:\"add\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\"})]}),/*#__PURE__*/_jsx(\"button\",{id:\"addtask\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})})]})})]});};","map":{"version":3,"names":["React","useState","QPool","MainButtoms","App","id","question_type","question_text","answer","items","setValue","additem","i","j","length","newitem","prevState","console","log","deleteitem","count","idx","findIndex","item","slice","alert","SetQuestion","type","qtype","qtext","qans","a","inputs","document","getElementsByName","value","push","copy","Object","assign","SaveShablon","head","map","require"],"sources":["C:/Users/iliab/Desktop/vkrproject/src/components/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport QPool from './qpoll';\r\nimport {MainButtoms} from './components/mainbuttons';\r\n\r\n\r\nexport const App = () => {\r\n\r\n    //let i =0;\r\n    const [items, setValue] = useState([{\r\n        id: 0,\r\n        question_type: '',\r\n        question_text: '',\r\n        answer: []        \r\n    }]);\r\n\r\n    //Добавляем вопрос\r\n    const additem = () => {\r\n        let i = 0;\r\n        for(var j=0;j<items.length;j++){\r\n            if(items[j].id>i){\r\n                i=items[j].id;\r\n            }\r\n        }\r\n        i++;\r\n        var newitem = {\r\n            id: i,\r\n            question_type: '',\r\n            question_text: '',\r\n            answer: []\r\n        };\r\n        setValue((prevState) => [...prevState, newitem]);\r\n        //Вывод для проверки\r\n        console.log(i);\r\n    };\r\n    //Удаляем вопрос\r\n    const deleteitem = (id) =>{\r\n        var count = items.length;\r\n        if(count > 1){\r\n            setValue((prevState) => {\r\n                const idx = prevState.findIndex((item) => item.id === id);\r\n                return[...prevState.slice(0,idx), ...prevState.slice(idx+1)];\r\n            });\r\n            //Для проверки\r\n            count--;\r\n        } \r\n        else{ \r\n            alert('Нельзя удалить единственный вопрос!');\r\n        };\r\n        //Для проверки\r\n        //console.log(count);\r\n    };\r\n    //Получаем текст и варианты ответов на вопросы\r\n    const SetQuestion = (id, type) =>{\r\n        var qtype = type;\r\n        var qtext ='';\r\n        var qans =[];\r\n        var a, j;\r\n        var inputs = document.getElementsByName('question_area_' + id);\r\n        for (j = 0; j < inputs.length; j++) {\r\n            a = inputs[j];\r\n            qtext = a.value;\r\n        }\r\n        if((qtype !== 'short') || (qtype !== 'long')){\r\n            inputs = document.getElementsByName('answer_area_' + id);\r\n            for (j = 0; j < inputs.length; j++) {\r\n                a = inputs[j];\r\n                qans.push(a.value);\r\n            }\r\n        }\r\n        var copy = Object.assign([], items);\r\n        var idx = copy.findIndex((item) => item.id === id);\r\n        var newitem={\r\n            id: id,\r\n            question_type: qtype,\r\n            question_text: qtext,\r\n            answer: qans\r\n        };\r\n        copy[idx]=newitem;\r\n        setValue(copy);\r\n\r\n        /*console.log(qtype);\r\n        console.log(qtext);\r\n        console.log(qans);*/\r\n    };\r\n\r\n    const SaveShablon = () => {\r\n        let head = {\r\n\r\n        }\r\n    };\r\n\r\n    \r\n\r\n\r\n    return(\r\n        <div id = \"main_block_c\">\r\n            <div id=\"block1\">\r\n                <MainButtoms></MainButtoms>\r\n            </div>\r\n            <div id=\"block2\">\r\n                <div className = \"mainp\">\r\n                    <h1>Название</h1>\r\n                    <input type = \"text\" id = \"shablon_title\"></input>\r\n                    <h1>Выберите логотип компании</h1>\r\n                    <select id =\"logoselect\">\r\n                        <option value=\"OKB\">OKB</option>\r\n                        <option value=\"QWE\">QWE</option>\r\n                    </select>\r\n\r\n                        {\r\n                            items.map((item) => {\r\n                                return(\r\n                                    <QPool \r\n                                    id={item.id} \r\n                                    key={item.id}\r\n                                    image_delete={require('../images/close.png')}\r\n                                    onDeleted={deleteitem}\r\n                                    setInfo={SetQuestion}>\r\n                                    </QPool>\r\n                                );\r\n                            })\r\n                        }\r\n                    \r\n                    <button id=\"addtask\" onClick={additem}>\r\n                        <img src={require('../images/plus.png')} alt='add'></img>\r\n                        <h1>Добавить вопрос</h1>\r\n                    </button>\r\n                    <button id=\"addtask\">\r\n                        <h1>Сохранить</h1>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}